[gd_scene load_steps=15 format=3 uid="uid://macmg6rjx2q2"]

[ext_resource type="Script" path="res://Entities/Enemy/among_us/enemy_test.gd" id="1_06anw"]
[ext_resource type="Script" path="res://Entities/Enemy/among_us/States/state_machine.gd" id="2_af6h8"]
[ext_resource type="Script" path="res://Entities/Enemy/among_us/States/enemyIdleState.gd" id="3_kmcap"]
[ext_resource type="Script" path="res://Entities/Enemy/among_us/States/fallingState.gd" id="4_308m6"]
[ext_resource type="Script" path="res://Entities/Enemy/among_us/States/Test.gd" id="5_7ij5k"]
[ext_resource type="PackedScene" uid="uid://c8xwbbvjtmdjm" path="res://Assets/Test assets/base_human.glb" id="5_jp32j"]
[ext_resource type="Script" path="res://Entities/Enemy/among_us/States/Chase.gd" id="6_21b65"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_spj0x"]
albedo_color = Color(1, 0.145098, 0.160784, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_hf8fy"]
material = SubResource("StandardMaterial3D_spj0x")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j7gh8"]
albedo_color = Color(0.0666667, 0.870588, 0.909804, 1)

[sub_resource type="BoxMesh" id="BoxMesh_5p5tg"]
material = SubResource("StandardMaterial3D_j7gh8")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xpotm"]
albedo_color = Color(0.964984, 0.182323, 0.0564977, 1)

[sub_resource type="BoxMesh" id="BoxMesh_7njvu"]
material = SubResource("StandardMaterial3D_xpotm")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_3eire"]

[node name="enemy_test" type="CharacterBody3D"]
transform = Transform3D(0.999837, -0.0161218, 0.00812445, 0.0160118, 0.999782, 0.0134291, -0.00833916, -0.0132969, 0.999877, 0, 0, 0)
script = ExtResource("1_06anw")

[node name="body" type="Node3D" parent="."]

[node name="mainBody" type="MeshInstance3D" parent="body"]
mesh = SubResource("CapsuleMesh_hf8fy")
skeleton = NodePath("../..")

[node name="eyes" type="MeshInstance3D" parent="body"]
transform = Transform3D(0.5, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 0, 0.437899, 0.39674)
mesh = SubResource("BoxMesh_5p5tg")
skeleton = NodePath("../..")

[node name="MeshInstance3D" type="MeshInstance3D" parent="body"]
transform = Transform3D(0.7, 0, 0, 0, 1, 0, 0, 0, 0.3, 0, 0, -0.46614)
mesh = SubResource("BoxMesh_7njvu")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_3eire")

[node name="State Machine" type="Node" parent="." node_paths=PackedStringArray("inital_state") groups=["Player"]]
script = ExtResource("2_af6h8")
inital_state = NodePath("Falling")
initial = "test"

[node name="Idle" type="Node" parent="State Machine" node_paths=PackedStringArray("enemy")]
script = ExtResource("3_kmcap")
enemy = NodePath("../..")

[node name="Falling" type="Node" parent="State Machine" node_paths=PackedStringArray("enemy")]
script = ExtResource("4_308m6")
enemy = NodePath("../..")

[node name="Test" type="Node" parent="State Machine" node_paths=PackedStringArray("enemy")]
script = ExtResource("5_7ij5k")
enemy = NodePath("../..")

[node name="Chase" type="Node" parent="State Machine" node_paths=PackedStringArray("enemy")]
script = ExtResource("6_21b65")
enemy = NodePath("../..")

[node name="nav_agent" type="NavigationAgent3D" parent="."]
unique_name_in_owner = true
path_max_distance = 5.01
debug_enabled = true

[node name="Timer" type="Timer" parent="."]
unique_name_in_owner = true
one_shot = true

[node name="Sketchfab_Scene" parent="." instance=ExtResource("5_jp32j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="RayCast3D" type="RayCast3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 6.54836e-11, 9.31323e-10, 1.01863e-09, 1, 0, 9.31323e-10, 0, 1, 0, 0, 0)
target_position = Vector3(0, 0, -50)
debug_shape_custom_color = Color(0.98492, 0.143444, 0.628611, 1)
debug_shape_thickness = 5

[connection signal="navigation_finished" from="nav_agent" to="State Machine/Idle" method="_on_nav_agemt_navigation_finished"]
[connection signal="timeout" from="Timer" to="State Machine/Idle" method="_on_timer_timeout"]
